{% extends "skeleton.html" %}
{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/rotating-card.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/feed.css') }}">
{% endblock %}

{% block content %}
<div class="deck">
    {% for post in posts %}
    <div class="card-container manual-flip">
        <div class="card" onclick="rotateCard(this)">
            <div class="front">
                <div class="cover">
		<h2>{{ post["title"] }}</h2>
                </div>
                
                
                <div class="content">
                    <div class="main">
                        <p class="text-center">
                        </p>
                        <div class="flex-spacer">
				{{ post["content"]|safe }}
                        </div>
                        <div class="interaction-bar">
                            <div class="likes" style="font-size: 56px;" onclick="alert('hello')">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="user">
                                <img class="img-circle" src="https://i.pravatar.cc/300?{{ post.author }}"/>
                            </div>
                            <div class="comments" style="font-size: 56px;">
                                <i class="fas fa-comments" ></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- end front panel -->
            <div class="back">
                <div class="header">
                    
                </div>
                <div class="content">
                    <div class="main">
                        

                        <div class="stats-container">
                            <div class="stats">
                                <h4>235</h4>
                                <p>
                                    Likes
                                </p>
                            </div>
                            <div class="stats">
                                <h4>114</h4>
                                <p>
                                    Comments
                                </p>
                            </div>
                            <div class="stats">
                                <h4>35</h4>
                                <p>
                                    Shares
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="interaction-bar">
                        <div class="likes" style="font-size: 56px;" onclick="alert('hello')">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="user">
				<img class="img-circle" src="https://i.pravatar.cc/300?{{ post.author }}"/>
                        </div>
                        <div class="comments" style="font-size: 56px;">
                            <i class="fas fa-comments" ></i>
                        </div>
                    </div>
            </div> <!-- end back panel -->
        </div> <!-- end card -->
    </div> <!-- end card-container -->
    {% endfor %}
</div>
{% endblock %}

{% block scripts %}
<script>
function rotateCard(btn){
    var $card = $(btn).closest('.card-container');
    console.log($card);
    if($card.hasClass('hover')){
        $card.removeClass('hover');
    } else {
        $card.addClass('hover');
    }
}
</script>
{% endblock %}
